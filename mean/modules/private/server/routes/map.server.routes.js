"use strict";var router=require("express").Router(),mapPolicy=require("../policies/map.server.policy"),map=require("../controllers/map.server.controller");module.exports=function(e){router.route("/:layerName").get(mapPolicy.isAllowed,map.list).post(mapPolicy.isAllowed,map.create),router.route("/:layerName/:objectId").get(mapPolicy.isAllowed,map.read).post(mapPolicy.isAllowed,map.update).delete(mapPolicy.isAllowed,map.delete),router.param("layerName",map.layerNameByID),router.param("objectId",map.objectByID),e.use("/api/map",router)};